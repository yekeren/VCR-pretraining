syntax = "proto2";

import "protos/fast_rcnn.proto";
import "protos/hyperparams.proto";

message Model {
  extensions 1000 to max;
}

message VBertFt {
  extend Model {
    optional VBertFt ext = 1001;
  }

  // If true, train rationale prediction model.
  optional bool rationale_model = 1 [default = false];

  // Path to the bert config file.
  optional string bert_config_file = 2;

  // Path to the bert vocabulary file.
  optional string bert_vocab_file = 3;

  // Path to the pre-trained bert checkpoint.
  optional string bert_checkpoint_file = 4;

  // Out-of-Vocabulary token id.
  optional uint32 bert_unk_token_id = 5 [default = 100];

  // Fast-RCNN config.
  optional FastRCNN fast_rcnn_config = 6;

  // Maximum number of objects to be used in the model.
  optional int32 max_num_detections = 7 [default = 10];

  // Hyperparameters of the fully-connected layers.
  optional Hyperparams fc_hyperparams = 11;

  // Keep probability of all dropout layers.
  optional float dropout_keep_prob = 12 [default = 1.0];

  // If true, use sigmoid crossentropy loss.
  optional bool use_sigmoid_loss = 13 [default = false];

  // Frozen variable patterns.
  repeated string frozen_variable_patterns = 14;
}
